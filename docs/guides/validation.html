

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to Disable Validation &mdash; YANG Development Kit 0.9.1.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/width.css?v=6892ff54" />

  
    <link rel="shortcut icon" href="../_static/icon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7dd6f3d2"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What are presence classes?" href="presence_class.html" />
    <link rel="prev" title="How do I execute RPCs?" href="executor_guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            YANG Development Kit
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_ydk.html">About YDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../developer_guide.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="crud_guide.html">How do I create, update, read and delete?</a></li>
<li class="toctree-l2"><a class="reference internal" href="codec_guide.html">How do I work with instances of YANG data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="executor_guide.html">How do I execute RPCs?</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to Disable Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="presence_class.html">What are presence classes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="deviation.html">What are deviations?</a></li>
<li class="toctree-l2"><a class="reference internal" href="path.html">How do I use the Path API?</a></li>
<li class="toctree-l2"><a class="reference internal" href="opendaylight.html">How do I use OpenDaylight with YDK?</a></li>
<li class="toctree-l2"><a class="reference internal" href="restconf_https.html">Using Restconf with HTTPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="backward_compatibility.html">Backward compatibility notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_guide.html">API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Questions and Answers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">YANG Development Kit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../developer_guide.html">Developer Guide</a></li>
      <li class="breadcrumb-item active">How to Disable Validation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-disable-validation">
<span id="validation"></span><h1>How to Disable Validation<a class="headerlink" href="#how-to-disable-validation" title="Link to this heading">ÔÉÅ</a></h1>
<p>By default all the data sent to Yang enabled server are validated against Yang model constraints like data type, number range and string patterns.
This is one of the major features of YDK. However there is sometime a need to disable data validation in order to see how the server reacts to invalid data.
For this sole purpose the YDK has possibility to disable data validation. This feature currently implemented only for <a class="reference internal" href="../api/providers/netconf_provider.html#ydk.providers.NetconfServiceProvider" title="ydk.providers.NetconfServiceProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetconfServiceProvider</span></code></a>
through <a class="reference internal" href="../api/services/crud_service.html#ydk.services.CRUDService" title="ydk.services.CRUDService"><code class="xref py py-class docutils literal notranslate"><span class="pre">CrudService</span></code></a> and <a class="reference internal" href="../api/services/netconf_service.html#ydk.services.NetconfService" title="ydk.services.NetconfService"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetconfService</span></code></a>.</p>
<p>In order to disable validation of object/entity the <a class="reference internal" href="../api/types.html#ydk.types.Entity" title="ydk.types.Entity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Entity</span></code></a> class member <cite>ignore_validation</cite> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
Please note that this setting disables validation on the entire entity including leafs, and children entities.
If the flag is set to non-top-level entity, the validation will be also disabled on all parent entities up to the top-level.
Actually, it is important to note, when validation is disabled on non-top-level entity it must be a part of complete hierarchy of a top-level entity.</p>
<p>Here is an example of a negative test, which demonstrates how YDK validation could be disabled.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>

<span class="kn">from</span> <span class="nn">ydk.errors</span>    <span class="kn">import</span> <span class="n">YModelError</span><span class="p">,</span> <span class="n">YServiceProviderError</span>
<span class="kn">from</span> <span class="nn">ydk.providers</span> <span class="kn">import</span> <span class="n">NetconfServiceProvider</span>
<span class="kn">from</span> <span class="nn">ydk.services</span>  <span class="kn">import</span> <span class="n">CRUDService</span>

<span class="kn">from</span> <span class="nn">ydk.models.ydktest.ydktest_sanity</span> <span class="kn">import</span> <span class="n">Runner</span>

<span class="k">def</span> <span class="nf">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">uint8_value</span><span class="p">,</span> <span class="n">disable_validation</span><span class="p">):</span>

    <span class="n">crud</span> <span class="o">=</span> <span class="n">CRUDService</span><span class="p">()</span>

    <span class="n">vstr</span> <span class="o">=</span> <span class="s1">&#39;enabled&#39;</span>
    <span class="k">if</span> <span class="n">disable_validation</span><span class="p">:</span>
        <span class="n">vstr</span> <span class="o">=</span> <span class="s1">&#39;disabled&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setting uint8 number to </span><span class="si">%s</span><span class="s2"> when validation is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uint8_value</span><span class="p">,</span> <span class="n">vstr</span><span class="p">))</span>

    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">()</span>
    <span class="n">runner</span><span class="o">.</span><span class="n">ignore_validation</span> <span class="o">=</span> <span class="n">disable_validation</span>   <span class="c1"># Set &#39;ignore_validation&#39; flag</span>
    <span class="n">runner</span><span class="o">.</span><span class="n">ytypes</span><span class="o">.</span><span class="n">built_in_t</span><span class="o">.</span><span class="n">number8</span> <span class="o">=</span> <span class="n">uint8_value</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">crud</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">runner</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OK&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">YServiceProviderError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NETCONF FAILED with Error:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;/error-message&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;en&quot;&gt;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">except</span> <span class="n">YModelError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;YDK VALIDATION FAILED with YModelError:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">provider</span> <span class="o">=</span> <span class="n">NetconfServiceProvider</span><span class="p">(</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="mi">12022</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">run_test</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="mi">888</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>   <span class="c1"># Disable YDK validation</span>
</pre></div>
</div>
<p>The script produces the following results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">88</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="n">OK</span>

<span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">888</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="n">YDK</span> <span class="n">VALIDATION</span> <span class="n">FAILED</span> <span class="k">with</span> <span class="n">YModelError</span><span class="p">:</span>
 <span class="n">Invalid</span> <span class="n">value</span> <span class="s2">&quot;888&quot;</span> <span class="ow">in</span> <span class="s2">&quot;number8&quot;</span> <span class="n">element</span><span class="o">.</span> <span class="n">Path</span><span class="p">:</span> <span class="o">/</span><span class="n">ydktest</span><span class="o">-</span><span class="n">sanity</span><span class="p">:</span><span class="n">runner</span><span class="o">/</span><span class="n">ytypes</span><span class="o">/</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">t</span><span class="o">/</span><span class="n">number8</span>

<span class="n">Setting</span> <span class="n">uint8</span> <span class="n">number</span> <span class="n">to</span> <span class="mi">888</span> <span class="n">when</span> <span class="n">validation</span> <span class="ow">is</span> <span class="n">disabled</span>
<span class="n">NETCONF</span> <span class="n">FAILED</span> <span class="k">with</span> <span class="n">Error</span><span class="p">:</span>
<span class="s2">&quot;888&quot;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="executor_guide.html" class="btn btn-neutral float-left" title="How do I execute RPCs?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="presence_class.html" class="btn btn-neutral float-right" title="What are presence classes?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>